{"version":3,"sources":["Components/Header/Header.jsx","API/secrets.js","Components/Movie/Movie.jsx","Components/Movies/Movies.jsx","Components/Pagination/Pagination.jsx","red-heart.png","white-heart.png","Components/MoviePage/MoviePage.jsx","Components/Favourite/Favourite.jsx","App.js","index.js"],"names":["Header","state","newMovieName","handleOnChange","e","value","target","setState","handleKeyPress","key","props","setMovies","history","push","className","to","src","alt","this","type","placeholder","onChange","onKeyPress","Component","withRouter","API_URL","API_KEY","IMAGE_URL","Movie","detailedMovieObj","a","axios","get","movie","id","response","data","posterPath","poster_path","title","vote_average","pathname","Movies","movies","map","movieObject","Pagination","currPage","aria-disabled","onClick","previousPage","pages","pageCount","href","setPage","length","nextPage","MoviePage","videoObject","isLiked","favourites","findIndex","location","results","filter","videoObj","site","tagline","overview","setFavourites","RedHeart","WhiteHeart","videoId","opts","height","width","playerVars","autoplay","Favourite","App","moviesData","currentMovie","params","api_key","page","query","slice","pagesCount","total_pages","i","movieObj","idx","splice","path","exact","Fragment","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.538879b8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n/* With withRouter we get access to this.props.history which we can't have bcz we are in header. Generally we have access to that when we use route to render component so to change url we use it*/\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\n\r\nclass Header extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n  //   this.myRef = React.createRef();\r\n  // }\r\n\r\n  state = {\r\n    newMovieName: \"\",\r\n  };\r\n\r\n  handleOnChange = (e) => {\r\n    let value = e.target.value;\r\n    this.setState({\r\n      newMovieName: value,\r\n    });\r\n  };\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      // console.log(this.props);\r\n      this.props.setMovies(this.state.newMovieName);\r\n      this.props.history.push('/');\r\n      // this.myRef.current.click();      // also we can use this in img to redirect url\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <img src=\"logo.svg\" alt=\"\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"search-btn\">\r\n          <input\r\n            className=\"search-movies\"\r\n            value={this.state.newMovieName}\r\n            type=\"text\"\r\n            placeholder=\"Search\"\r\n            onChange={this.handleOnChange}\r\n            onKeyPress={this.handleKeyPress}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"header-links\">\r\n          <div className=\"header-link\">\r\n            <Link to=\"/\">Home</Link>\r\n          </div>\r\n\r\n          <div className=\"header-link\">\r\n            <Link to=\"/fav\">Favourite</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Header);\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY = \"2b4dce990d366694acdf0f9733e54fec\";\r\nexport const IMAGE_URL = \"https://image.tmdb.org/t/p/w500\";","import React, { Component } from \"react\";\r\nimport { API_KEY, API_URL, IMAGE_URL } from \"../../API/secrets\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Movie.css\";\r\nimport axios from \"axios\";\r\n\r\nclass Movie extends Component {\r\n  state = {\r\n    detailedMovieObj: {},\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // https://api.themoviedb.org/3/movie/299534?api_key=bdd243ea847239dc0799805e63e189f0\r\n    let response = await axios.get(\r\n      `${API_URL}/movie/${this.props.movie.id}?api_key=${API_KEY}`\r\n    );\r\n    // console.log(response.data);\r\n    let detailedMovieObj = response.data;\r\n    let posterPath = IMAGE_URL + detailedMovieObj.poster_path;\r\n    this.setState({\r\n      detailedMovieObj: { ...detailedMovieObj, poster_path: posterPath },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { poster_path, title, vote_average } = this.props.movie;\r\n    \r\n    let posterPath = IMAGE_URL + poster_path;\r\n\r\n    return (\r\n      <div className=\"movie-item\">\r\n        <div className=\"movie-poster\">\r\n        <Link to={{ pathname: \"/moviepage\", state: this.state.detailedMovieObj }}>\r\n          <img src={posterPath} alt=\"\" />\r\n        </Link>\r\n        </div>\r\n        <div className=\"movie-info\">\r\n          <div className=\"movie-title\">{title}</div>\r\n          <div className=\"movie-rating\">{vote_average} IMDB</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movie;","import React, { Component } from \"react\";\r\nimport Movie from \"../Movie/Movie\";\r\nimport \"./Movies.css\";\r\n\r\nclass Movies extends Component {\r\n  state = {};\r\n  \r\n  render() {\r\n    return (\r\n      <div className=\"movies\">\r\n        {this.props.movies.map((movieObject) => {\r\n          return <Movie key={movieObject.id} movie={movieObject}></Movie>;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;","import React, { Component } from \"react\";\r\n\r\nclass Pagination extends Component {\r\n  state = {};\r\n\r\n  render() {\r\n    return (\r\n      <nav>\r\n        <ul className=\"pagination justify-content-center\">\r\n          {this.props.currPage === 1 ? (\r\n            <li className=\"page-item disabled\">\r\n              <button className=\"page-link\" aria-disabled=\"true\">\r\n                Previous\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <li className=\"page-item\" onClick={this.props.previousPage}>\r\n              <button className=\"page-link\">Previous</button>\r\n            </li>\r\n          )}\r\n          {this.props.pages.map((pageCount) => {\r\n            return pageCount === this.props.currPage ? (\r\n              <li className=\"page-item active\">\r\n                <button className=\"page-link\" href=\"#\">\r\n                  {pageCount}\r\n                </button>\r\n              </li>\r\n            ) : (\r\n              <li\r\n                className=\"page-item\"\r\n                onClick={() => {\r\n                  this.props.setPage(pageCount);\r\n                }}\r\n              >\r\n                <button className=\"page-link\" href=\"#\">\r\n                  {pageCount}\r\n                </button>\r\n              </li>\r\n            );\r\n          })}\r\n          {this.props.currPage === this.props.pages.length ? (\r\n            <li className=\"page-item disabled\">\r\n              <button className=\"page-link\" aria-disabled=\"true\">\r\n                Next\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <li className=\"page-item\" onClick={this.props.nextPage}>\r\n              <button className=\"page-link\">Next</button>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Pagination;","export default __webpack_public_path__ + \"static/media/red-heart.59848f48.png\";","export default __webpack_public_path__ + \"static/media/white-heart.b8db3883.png\";","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport YouTube from \"react-youtube\";\r\nimport \"./MoviePage.css\";\r\n\r\nimport RedHeart from \"../../red-heart.png\";\r\nimport WhiteHeart from \"../../white-heart.png\";\r\n\r\nimport { API_URL, API_KEY } from \"../../API/secrets\";\r\n\r\nclass MoviePage extends Component {\r\n  state = {\r\n    videoObject: {},\r\n    isLiked: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const idx = this.props.favourites.findIndex(\r\n      (movie) => movie.id === this.props.location.state.id\r\n    );\r\n    if (idx !== -1) this.setState({ isLiked: true });\r\n\r\n    // https://api.themoviedb.org/3/movie/324552/videos?api_key=bdd243ea847239dc0799805e63e189f0&language=en-US\r\n    let response = await axios.get(\r\n      `${API_URL}/movie/${this.props.location.state.id}/videos?api_key=${API_KEY}&language=en-US`\r\n    );\r\n\r\n    let videoObject = response.data.results.filter((videoObj) => {\r\n      if (videoObj.type === \"Trailer\" && videoObj.site === \"YouTube\") {\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n\r\n    this.setState({\r\n      videoObject: videoObject[0],\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const opts = {\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n      playerVars: {\r\n        autoplay: 1,\r\n      },\r\n    };\r\n    let { title, tagline, vote_average, poster_path, overview } =\r\n      this.props.location.state;\r\n\r\n    // console.log(this.props);\r\n\r\n    return (\r\n      <div className=\"movie-page\">\r\n        <div className=\"movie-page-poster\">\r\n          <img src={poster_path} alt=\"\" />\r\n        </div>\r\n\r\n        <div className=\"movie-page-details\">\r\n          <button\r\n            className=\"like-btn\"\r\n            onClick={() => {\r\n              this.props.setFavourites(this.props.location.state);\r\n              this.setState({isLiked: !this.state.isLiked});\r\n            }}\r\n          >\r\n            {this.state.isLiked ? (\r\n              <img src={RedHeart} alt=\"\" className=\"heart\" />\r\n            ) : (\r\n              <img src={WhiteHeart} alt=\"\" className=\"heart\" />\r\n            )}\r\n          </button>\r\n          <div className=\"movie-title-info\">\r\n            <h1>\r\n              {title} <br></br> {vote_average} IMDB\r\n            </h1>\r\n            <span>{tagline}</span>\r\n            <p>{overview}</p>\r\n          </div>\r\n          <div className=\"movie-trailer\">\r\n            <YouTube videoId={this.state.videoObject.key} opts={opts}></YouTube>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviePage;\r\n","import React, { Component } from 'react';\r\nimport Movies from \"../Movies/Movies\";\r\n\r\nclass Favourite extends Component {\r\n    state = {}\r\n    render() { \r\n        return (\r\n            this.props.favourites.length ? <Movies movies={this.props.favourites}></Movies> : <h1>You had no favourite movies</h1>\r\n          );\r\n    }\r\n}\r\n \r\nexport default Favourite;","import React, { Component } from \"react\";\r\nimport Header from \"./Components/Header/Header.jsx\";\r\nimport Movies from \"./Components/Movies/Movies.jsx\";\r\nimport Pagination from \"./Components/Pagination/Pagination.jsx\";\r\nimport MoviePage from \"./Components/MoviePage/MoviePage.jsx\";\r\nimport axios from \"axios\";\r\nimport { API_KEY, API_URL } from \"./API/secrets\";\r\n\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport Favourite from \"./Components/Favourite/Favourite.jsx\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    moviesData: [],\r\n    currentMovie: \"avengers\",\r\n    pages: [],\r\n    currPage: 1,\r\n    favourites: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    // API call\r\n    // params => api key , page , query\r\n    // https://api.themoviedb.org/3/search/movie?api_key=bdd243ea847239dc0799805e63e189f0&query=avengers&page=1&include_adult=false\r\n\r\n    let data = await axios.get(API_URL + \"/search/movie\", {\r\n      params: { api_key: API_KEY, page: 1, query: this.state.currentMovie },\r\n    });\r\n    // console.log(data);\r\n    let moviesData = data.data.results.slice(0, 10);\r\n    let pagesCount = data.data.total_pages; //3\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n    }\r\n    this.setState({\r\n      moviesData: moviesData,\r\n      pages: pages,\r\n    });\r\n  }\r\n\r\n  setMovies = async (newMovieName) => {\r\n    // console.log(\"inside set movies\");\r\n    let data = await axios.get(API_URL + \"/search/movie\", {\r\n      params: { api_key: API_KEY, page: 1, query: newMovieName },\r\n    });\r\n    let moviesData = data.data.results.slice(0, 10);\r\n    let pagesCount = data.data.total_pages; //3\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n      pages.push(i);\r\n    }\r\n    this.setState({\r\n      moviesData: moviesData,\r\n      currentMovie: newMovieName,\r\n      pages: pages,\r\n    });\r\n  };\r\n\r\n  nextPage = async () => {\r\n    let data = await axios.get(API_URL + \"/search/movie\", {\r\n      params: {\r\n        api_key: API_KEY,\r\n        page: this.state.currPage + 1,\r\n        query: this.state.currentMovie,\r\n      },\r\n    });\r\n    // console.log(data);\r\n    let moviesData = data.data.results.slice(0, 10);\r\n    this.setState({\r\n      moviesData: moviesData,\r\n      currPage: this.state.currPage + 1,\r\n    });\r\n  };\r\n\r\n  previousPage = async () => {\r\n    let data = await axios.get(API_URL + \"/search/movie\", {\r\n      params: {\r\n        api_key: API_KEY,\r\n        page: this.state.currPage - 1,\r\n        query: this.state.currentMovie,\r\n      },\r\n    });\r\n    // console.log(data);\r\n    let moviesData = data.data.results.slice(0, 10);\r\n    this.setState({\r\n      moviesData: moviesData,\r\n      currPage: this.state.currPage - 1,\r\n    });\r\n  };\r\n\r\n  setPage = async (pageCount) => {\r\n    let data = await axios.get(API_URL + \"/search/movie\", {\r\n      params: {\r\n        api_key: API_KEY,\r\n        page: pageCount,\r\n        query: this.state.currentMovie,\r\n      },\r\n    });\r\n    // console.log(data);\r\n    let moviesData = data.data.results.slice(0, 10);\r\n    this.setState({\r\n      moviesData: moviesData,\r\n      currPage: pageCount,\r\n    });\r\n  };\r\n\r\n  setFavourites = (movieObj) => {\r\n    let favourites = this.state.favourites;\r\n    const idx = favourites.findIndex((movie) => movie.id === movieObj.id);\r\n    if (idx !== -1) {\r\n      favourites.splice(idx, 1);\r\n    } else {\r\n      favourites.push(movieObj);\r\n    }\r\n\r\n    this.setState({ favourites: favourites });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      \r\n      <Router>\r\n        <div className=\"App\">\r\n          <Header setMovies={this.setMovies}></Header>\r\n\r\n          {/* condition rendering */}\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              {this.state.moviesData.length ? (\r\n                <React.Fragment>\r\n                  <Movies movies={this.state.moviesData}></Movies>\r\n                  <Pagination\r\n                    pages={this.state.pages}\r\n                    currPage={this.state.currPage}\r\n                    nextPage={this.nextPage}\r\n                    previousPage={this.previousPage}\r\n                    setPage={this.setPage}\r\n                  ></Pagination>\r\n                </React.Fragment>\r\n              ) : (\r\n                <h1>Oops No Movies Found !</h1>\r\n              )}\r\n            </Route>\r\n\r\n            <Route\r\n              path=\"/fav\"\r\n              exact\r\n              render={(props) => {\r\n                return (\r\n                  <Favourite\r\n                    {...props}\r\n                    favourites={this.state.favourites}\r\n                  ></Favourite>\r\n                );\r\n              }}\r\n            ></Route>\r\n\r\n            <Route\r\n              path=\"/moviepage\"\r\n              exact\r\n              render={(props) => {\r\n                // console.log(\"Inside app moviepage route\");\r\n                return (\r\n                  <MoviePage\r\n                    {...props}\r\n                    favourites={this.state.favourites}\r\n                    setFavourites={this.setFavourites}\r\n                  ></MoviePage>\r\n                );\r\n              }}\r\n            ></Route>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />, document.getElementById('root')\r\n);"],"sourceRoot":""}